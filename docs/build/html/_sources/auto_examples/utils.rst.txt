
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\utils.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_utils.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_utils.py:


==========
utils
==========

.. GENERATED FROM PYTHON SOURCE LINES 6-14

.. code-block:: Python


    # importing necessary modules

    import os
    import json

    import kmer_ml








.. GENERATED FROM PYTHON SOURCE LINES 15-44

.. code-block:: Python


    # data preprocessing
    def get_data():

        best_feature_indices = [20178, 20177, 20176, 20175, 20174, 20173, 20172, 20171, 20170,
           20169]

        with open(os.path.join(os.path.dirname(os.getcwd()), 'example', 'input.json'), 'r') as f:
            data = json.load(f)

        cutoff = data['cutoff']
        numb_files_select = data['numb_files_select']
        traits_scoary_path = data['traits_scoary_path']
        class_label = data['class_label']
        chunkdata_path = data['chunkdata_path']

        filepath  = chunkdata_path
        filtered_df = kmer_ml.get_datafilter(class_label,traits_scoary_path)
        row_list = filtered_df.transpose().columns.values

        X, voc_col, voc_row, removed_percent =kmer_ml.get_datamatrix(row_list,
                                                                numb_files_select=numb_files_select,
                                                                datapath=filepath,
                                                                cutoff=cutoff)
        # X = mtr
        y = filtered_df['data_type']

        X_subset = X[:, best_feature_indices]

        return X_subset, y







.. _sphx_glr_download_auto_examples_utils.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: utils.ipynb <utils.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: utils.py <utils.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
